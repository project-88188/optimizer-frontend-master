
<mat-card class="p-2 m-4">
  <mat-card-content>
    <app-market-board-bitoptimizer></app-market-board-bitoptimizer>
  </mat-card-content>
</mat-card>

<mat-card class="p-2 m-4">
  <mat-card-title>
    <h5>::{{currentUserContent.username}}</h5>
  </mat-card-title>
  
  <mat-card-content>
  
    <form *ngIf="!submitted"
      name="form"
      (ngSubmit)="f.form.valid && onSubmit()"
      #f="ngForm"
      novalidate
      > 

    <div class="form-group p-2">
      <p>bitoptimizer units: {{currentUserContent.bitoptimizer}}</p>
    </div>

    <div  class="form-group">
      <mat-form-field  appearance="fill">
        <mat-label>Price per unit in USD</mat-label>
        <input matInput type="number"
        [(ngModel)]="form.unitprice" 
          required/>
      </mat-form-field>
    </div>

    <div  class="form-group">
      <mat-form-field  appearance="fill">
        <mat-label>Total bitoptimizer in units</mat-label>
        <input matInput type="number"
        [(ngModel)]="form.totalunits"
          required/>
      </mat-form-field>
    </div>


      <div  class="form-group">
        <button mat-fab color="accent">
          Submit
        </button>
      </div>
      
      <div *ngIf="submitted && successed"  class="form-group">
          <p class="text-center">Buy bitoptimizer completed</p>
      </div>
      
    </form>
        
    <div *ngIf="submitted">
      <mat-spinner class="loader"></mat-spinner>
      <div class="p-2">
        <p>Buy bitoptimizer {{form.totalunits}} units for {{currentUserContent.username}} amount ${{form.unitprice*form.totalunits}}.</p>
      </div>
    </div>

  </mat-card-content>
</mat-card>
